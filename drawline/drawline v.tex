% !TEX encoding = UTF-8 Unicode
% !TEX TS-program = pdflatex

\documentclass{article}
	\usepackage{tikz}
	\usepackage{listings}
\begin{document}

	\begin{tikzpicture}
		\draw(0,0)--(1,0)--(1,1)--(0,0);
	\end{tikzpicture}

\lstset{language=[latex]tex,tabsize=4}
\begin{lstlisting}
% !TEX encoding = UTF-8 Unicode
% !TEX TS-program = pdflatex
\documentclass{article}
	\usepackage{tikz}
\begin{document}
	\begin{tikzpicture}
		\draw(0,0)--(1,0)--(1,1)--(0,0);
	\end{tikzpicture}
\end{document}
\end{lstlisting}

\end{document}